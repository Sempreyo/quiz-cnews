document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".quiz");if(e){const t=e.querySelectorAll(".quiz__fields"),c=e.querySelector(".quiz__next"),l=e.querySelector(".quiz__error");let n=1;t.forEach(t=>{const c=t.querySelectorAll(".js-toggle-field .field__label"),l=e.querySelector(".js-reset-fields input"),n=t.querySelectorAll('.field:not(.js-reset-fields) input[type="checkbox"]'),s=t.querySelectorAll('.field:not(.js-reset-fields) input[type="text"]');n.forEach(e=>{e.addEventListener("change",e=>{e.currentTarget.checked&&(l.checked=!1)})}),s.forEach(e=>{e.addEventListener("change",e=>{e.currentTarget.checked&&(l.checked=!1)})}),c.forEach((e,t,c)=>{e.addEventListener("click",e=>{if(e.currentTarget.parentElement.classList.toggle("active"),t>1){let e=!1;e||(c[t+1].parentElement.classList.remove("closed"),e=!0)}})}),l&&l.addEventListener("change",e=>{const c=t.querySelectorAll(".field:not(.js-reset-fields) input");e.currentTarget.checked&&c.forEach(e=>{e.value="",e.checked=!1,e.parentElement.classList.remove("active")})})}),c.addEventListener("click",s=>{const r=e.querySelector(".quiz__step.open"),o=e.querySelectorAll(".js-check-nothing"),a=e.querySelectorAll(".field:not(.js-reset-fields) input");if(n<10&&s.preventDefault(),n<11){const e=t[n-1].querySelectorAll(".field input");console.log(e),e.forEach(e=>{e.checked||"text"===e.getAttribute("type")&&""!==e.value?(console.log("Поля выбраны, го дальше"),r.classList.remove("open"),r.nextElementSibling.classList.add("open"),n++,l.classList.add("d-none")):(l.classList.remove("d-none"),console.log("Выберите поле!"))})}switch(n){case 2:c.textContent="Вперед",a.forEach(e=>{(e.checked||"text"===e.getAttribute("type")&&""!=e.value)&&o.forEach(t=>{t.insertAdjacentHTML("beforebegin",`<label class="field field--checkbox">\n\t\t\t\t\t\t\t\t<input class="field__input" type="checkbox" name="${e.getAttribute("name")}" /><span class="field__label">${e.value}</span><b></b>\n\t\t\t\t\t\t\t</label>`)})});break;case 10:c.setAttribute("type","submit");break;case 11:e.addEventListener("submit",t=>{t.preventDefault();const l=new FormData(e);fetch("path-to-ajax",{method:"POST",body:l}).then(e=>{console.log(e)}).catch(e=>{console.error(e)}),c.classList.add("d-none")}),setTimeout(()=>{e.classList.add("d-none")},3e3)}})}});
//# sourceMappingURL=maps/main.min.js.map
